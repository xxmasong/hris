import{A as h}from"./ArticleCardGrid.645c571c.js";import{r as l}from"./index.367d4241.js";import{u as y}from"./useScrollPagination.4a868551.js";import{i as A,n as x,t as T,H as M,x as C,_ as N,d as v,f as H,aq as P,Q as R,W as U}from"./App.724dbeb2.js";import{u as d}from"./useNews.c03feea2.js";import{t as g,A as _,B as j,M as k}from"./index.f724b001.js";import{M as w}from"./index.a40bc28b.js";import{j as n,_ as B,f as L}from"./news.46e8e55d.js";import{p as S}from"./notifications.ccd281a2.js";import"./typeof.2a08ffa3.js";function W(t){return A("MuiAlertTitle",t)}x("MuiAlertTitle",["root"]);const $=["className"],b=t=>{const{classes:o}=t;return H({root:["root"]},W,o)},E=T(M,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(t,o)=>o.root})(({theme:t})=>({fontWeight:t.typography.fontWeightMedium,marginTop:-2})),q=l.exports.forwardRef(function(o,e){const r=C({props:o,name:"MuiAlertTitle"}),{className:s}=r,i=N(r,$),c=r,p=b(c);return n(E,B({gutterBottom:!0,component:"div",ownerState:c,ref:e,className:v(p.root,s)},i))}),D=q;function F(){const{user:t,validating:o}=g(),{articles:e,page:r,updateArticles:s,keepNextPageKey:i}=d(),[c,p]=l.exports.useState(!1),u=l.exports.useCallback(async()=>{var m;p(!0);let f=[];t&&(t==null?void 0:t.country)&&(f=[(m=t==null?void 0:t.country)==null?void 0:m.code]);const a=await P(f,r);(a==null?void 0:a.status)==="success"&&(s([...e,...a.results]),i(a==null?void 0:a.nextPage)),p(!1)},[t,e,i,r,s]);return l.exports.useEffect(()=>{o||e&&(e==null?void 0:e.length)<=10&&u()},[o]),y({offset:e==null?void 0:e.length,onLoadMoreByOffset:u}),{articles:e,loading:c}}function tt(){const t=_(),o=R(),{user:e}=g(),{preFetchArticle:r}=d(),{articles:s,loading:i}=F();return l.exports.useEffect(()=>{e&&s.length<=10&&s.length>1&&o(S({options:{content:L(j,{severity:"success",onClick:()=>{r(s[0]),t.push(`/article/${encodeURI(s[0].title)}`)},style:{cursor:"pointer"},children:[n(D,{children:"Latest News"}),s[0].title]})}}))},[e,s]),n(w,{children:n(k,{children:n(G,{children:n(h,{articles:s,loading:!(s!=null&&s.length)||i,forHome:!0})})})})}const G=U.main`
  display: flex;
  margin-top: 2rem;
  flex: 1;
`;export{tt as default};
