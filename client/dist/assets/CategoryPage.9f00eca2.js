import{A as M}from"./ArticleCardGrid.645c571c.js";import{M as A}from"./index.a40bc28b.js";import{t as N,M as P}from"./index.f724b001.js";import{as as k,W as j}from"./App.724dbeb2.js";import{r as f}from"./index.367d4241.js";import{u as H}from"./useScrollPagination.4a868551.js";import{u as L}from"./useNews.c03feea2.js";import{j as l}from"./news.46e8e55d.js";import"./notifications.ccd281a2.js";import"./typeof.2a08ffa3.js";function S(o){var u,c;const{user:s}=N(),{newsByCategory:t,page:r,updateNewsByCategory:e,keepNextPageKey:n}=L(),[h,m]=f.exports.useState(!1),p=f.exports.useCallback(async()=>{var d,x;m(!0);let a=[];s&&(s==null?void 0:s.country)&&(a=[(d=s==null?void 0:s.country)==null?void 0:d.code]),o||(o="top");const i=await k([o],a,r);(i==null?void 0:i.status)==="success"&&(e(o,[...(x=t==null?void 0:t[o])!=null?x:[],...i.results]),n(i==null?void 0:i.nextPage)),m(!1)},[o,t,n,r,e]);return f.exports.useEffect(()=>{var a;o&&t&&((a=t[o])==null?void 0:a.length)<=10&&p()},[o]),H({offset:o?(u=t==null?void 0:t[o])==null?void 0:u.length:(c=t==null?void 0:t.top)==null?void 0:c.length,onLoadMoreByOffset:p}),{newsByCategory:t,loading:h}}function z({match:o}){var e;const{category:s}=o.params,{newsByCategory:t,loading:r}=S(s);return l(A,{children:l(P,{children:l(b,{children:l(M,{articles:(t==null?void 0:t[s])||[],loading:!((e=t==null?void 0:t[s])!=null&&e.length)||r,forHome:!0})})})})}const b=j.main`
  display: flex;
  margin-top: 2rem;
  flex: 1;
`;export{z as default};
